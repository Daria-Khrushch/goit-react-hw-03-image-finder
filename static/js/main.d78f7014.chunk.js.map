{"version":3,"sources":["components/Modal/Modal.module.css","components/Button/Button.module.css","components/SearchBar/Searchbar.jsx","api/imagesApi.js","components/Button/Button.jsx","components/Modal/Modal.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/App/App.jsx","index.js","components/SearchBar/Searchbar.module.css","components/ImageGallery/ImageGallery.module.css"],"names":["module","exports","Searchbar","state","searchbar","handleNameChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","toast","error","props","onSubmit","className","s","this","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","React","Component","BASE_URL","API_KEY","searchQuery","page","a","fetch","res","json","imagesApi","Button","onClick","modalRoot","document","querySelector","Modal","onEscClick","code","onClose","onBackdropClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","src","largeImageURL","alt","ImageGalleryItem","webformatURL","tags","onOpenModal","ImageGalleryItemImage","ImageGallery","cardImage","loading","status","loadMoreBtn","prevState","largeImageUR","onCloseModal","prevProps","cardAPI","then","hits","scrollTo","top","documentElement","scrollHeight","behavior","images","color","height","width","timeout","map","id","length","App","handleFormSubmit","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d78f7014.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__lrSPf\",\"Modal\":\"Modal_Modal__6eBQK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3pxPs\"};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { toast } from 'react-toastify';\r\nimport s from './Searchbar.module.css';\r\n\r\nclass Searchbar extends React.Component {\r\n  state = {\r\n    searchbar: '',\r\n  };\r\n\r\n  handleNameChange = event => {\r\n    this.setState({ searchbar: event.currentTarget.value.toLowerCase() });\r\n  };\r\n\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n\r\n    const { searchbar } = this.state;\r\n\r\n    if (searchbar.trim() === '') {\r\n      toast.error('Error! Enter something');\r\n      this.setState({ searchbar: '' });\r\n      return;\r\n    }\r\n    this.props.onSubmit(searchbar);\r\n    this.setState({ searchbar: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form onSubmit={this.handleSubmit} className={s.SearchForm}>\r\n          <button type=\"submit\" className={s.SearchFormButton}>\r\n            <span className={s.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={s.SearchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.searchbar}\r\n            onChange={this.handleNameChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func,\r\n};\r\n\r\nexport { Searchbar };\r\n","const BASE_URL = 'https://pixabay.com/api';\r\nconst API_KEY = '21917533-94fc46511cdba7fd05c8e408d';\r\n\r\nasync function imagesApi(searchQuery, page) {\r\n  const res = await fetch(\r\n    `${BASE_URL}/?key=${API_KEY}&q=${searchQuery}\r\n      &image_type=photo&orientation=horizontal&page=\r\n      ${page}&per_page=12`);\r\n  return await res.json();\r\n}\r\n\r\nexport default imagesApi;\r\n\r\n// const axios = require(\"axios\");\r\n// const getImages = axios.create({\r\n//   baseURL: \"https://pixabay.com/api/\",\r\n//   params: {\r\n//     key: \"21917533-94fc46511cdba7fd05c8e408d\",\r\n//     image_type: \"photo\",\r\n//     orientation: \"horizontal\",\r\n//   },\r\n// });\r\n\r\n// async function imagesApi(q = \"\", page = 1, per_page = 12) {\r\n//   const params = { q, page, per_page };\r\n//   try {\r\n//     const { data } = await getImages(\"\", { params });\r\n//     return data;\r\n//   } catch (error) {\r\n//     console.error(`No results found for ${q}'`)\r\n//   } \r\n//  };\r\n\r\n\r\n\r\n// export default imagesApi;\r\n\r\n\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './Button.module.css';\r\n\r\nfunction Button({ onClick }) {\r\n  return (\r\n    <button type=\"button\" className={s.Button} onClick={onClick}>\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  loadMoreBtn: PropTypes.func,\r\n};\r\n\r\nexport { Button };\r\n","import React from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport s from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends React.Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.onEscClick);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.onEscClick);\r\n  }\r\n\r\n  onEscClick = event => {\r\n    const ESC_KEY_CODE = 'Escape';\r\n\r\n    if (event.code === ESC_KEY_CODE) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  onBackdropClick = event => {\r\n    if (event.currentTarget === event.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={s.Overlay} onClick={this.onBackdropClick}>\r\n        <div className={s.Modal}>\r\n          <img src={this.props.largeImageURL} alt={this.props.alt} />\r\n        </div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  onClose: PropTypes.func.isRequired,\r\n};\r\n\r\nexport { Modal };\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport s from '../ImageGallery/ImageGallery.module.css';\r\n\r\nconst ImageGalleryItem = ({\r\n  webformatURL,\r\n  tags,\r\n  largeImageURL,\r\n  onOpenModal,\r\n}) => {\r\n  return (\r\n    <li\r\n      onClick={() => {\r\n        onOpenModal(largeImageURL, tags);\r\n      }}\r\n    >\r\n      <img src={webformatURL} alt={tags} className={s.ImageGalleryItemImage} />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string.isRequired,\r\n  tags: PropTypes.string,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  onOpenModal: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from 'react';\r\nimport Loader from 'react-loader-spinner';\r\nimport cardAPI from '../../api/imagesApi';\r\nimport { Button } from '../Button/Button';\r\nimport { Modal } from '../Modal/Modal';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport s from './ImageGallery.module.css';\r\n\r\nclass ImageGallery extends React.Component {\r\n  state = {\r\n    cardImage: [],\r\n    error: null,\r\n    loading: false,\r\n    status: 'idle',\r\n    page: 1,\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevProps.searchQuery !== this.props.searchQuery) {\r\n      this.setState({ status: 'pending' });\r\n\r\n      cardAPI(this.props.searchQuery, this.state.page)\r\n        .then(cardImage => cardImage.hits)\r\n        .then(cardImage =>\r\n          this.setState({ cardImage: cardImage, status: 'resolved' }),\r\n        );\r\n    }\r\n\r\n    if (prevState.page !== this.state.page && this.state.page !== 1) {\r\n      this.setState({ status: 'pending' });\r\n\r\n      cardAPI(this.props.searchQuery, this.state.page)\r\n        .then(cardImage => cardImage.hits)\r\n        .then(cardImage =>\r\n          this.setState(prevState => ({\r\n            cardImage: [...prevState.cardImage, ...cardImage],\r\n            status: 'resolved',\r\n          })),\r\n        );\r\n    }\r\n    if (prevState.cardImage !== this.state.cardImage) {\r\n      window.scrollTo({\r\n        top: document.documentElement.scrollHeight,\r\n        behavior: 'smooth',\r\n      });\r\n    }\r\n  }\r\n\r\n  loadMoreBtn = () => {\r\n    this.setState(prevState => ({\r\n      page: prevState.page + 1,\r\n    }));\r\n  };\r\n\r\n  scrollDown() {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: 'smooth',\r\n    });\r\n  }\r\n\r\n  onOpenModal = (largeImageUR, alt) => {\r\n    this.setState({\r\n      largeImageURL: largeImageUR,\r\n      alt: alt,\r\n    });\r\n  };\r\n\r\n  onCloseModal = () => {\r\n    this.setState({\r\n      largeImageURL: '',\r\n      alt: '',\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { status, largeImageURL } = this.state;\r\n    const images = this.state.cardImage;\r\n\r\n    return (\r\n      <>\r\n        {status === 'pending' && (\r\n          <div>\r\n            <Loader\r\n              type=\"MutatingDots\"\r\n              color=\"#00BFFF\"\r\n              height={80}\r\n              width={80}\r\n              timeout={3000}\r\n            />\r\n          </div>\r\n        )}\r\n\r\n        {status === 'rejected' && <h1>Oops! Try again.</h1>}\r\n\r\n        {status === 'resolved' && (\r\n          <ul className={s.ImageGallery}>\r\n            {images.map(({ id, tags, webformatURL, largeImageURL }) => {\r\n              return (\r\n                <ImageGalleryItem\r\n                  key={id}\r\n                  alt={tags}\r\n                  webformatURL={webformatURL}\r\n                  largeImageURL={largeImageURL}\r\n                  onOpenModal={this.onOpenModal}\r\n                />\r\n              );\r\n            })}\r\n            {this.state.cardImage.length > 0 && (\r\n              <Button onClick={this.loadMoreBtn} />\r\n            )}\r\n\r\n            {largeImageURL && (\r\n              <Modal\r\n                largeImageURL={largeImageURL}\r\n                alt={this.state.alt}\r\n                onClose={this.onCloseModal}\r\n              />\r\n            )}\r\n          </ul>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport { ImageGallery };\r\n","import React from 'react';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { Searchbar } from '../SearchBar/Searchbar';\r\nimport { ImageGallery } from '../ImageGallery/ImageGallery';\r\n\r\nclass App extends React.Component {\r\n  state = {\r\n    searchQuery: '',\r\n    searchbar: '',\r\n  };\r\n\r\n  handleFormSubmit = searchQuery => {\r\n    this.setState({ searchQuery });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Searchbar onSubmit={this.handleFormSubmit} />\r\n\r\n        <ImageGallery searchQuery={this.state.searchQuery} />\r\n\r\n        <ToastContainer autoClose={3000} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\nimport 'modern-normalize/modern-normalize.css';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3CEvA\",\"SearchForm\":\"Searchbar_SearchForm__YGXjy\",\"SearchFormButton\":\"Searchbar_SearchFormButton__1sZKO\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__3enSs\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3gPO6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3LS4a\",\"ImageGalleryItem\":\"ImageGallery_ImageGalleryItem__30Bo1\",\"ImageGalleryItemImage\":\"ImageGallery_ImageGalleryItemImage___ocRW\"};"],"sourceRoot":""}